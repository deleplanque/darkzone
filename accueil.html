<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="WOW/WOW-master/dist/wow.js"></script>
    <script src="WOW/WOW-master/dist/wow.min.js"></script>
    <link href="WOW/WOW-master/css/libs/animate.css" rel="stylesheet" type="text/css" />
    <link href="carousel.css" rel="stylesheet" type="text/css" />
    <link href="accueil.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="accueil.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.2/TweenMax.min.js"></script>
    <script type="text/javascript" src="testImage/delaunay-master/delaunay.js"></script>
    <link href="testImage/images.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="main">
        <nav>
            <div class="nav-fostrap">
                <div class="logo col-sm-0 col-xs-0 col-lg-2 col-md-2 "><img src="logo_dark_zone.jpg" class="img-responsive"></div>
                <ul>
                    <li><a href="">Home</a></li>
                    <li><a href="">Concept</a></li>
                    <li><a href="">Reserver</a></li>
                    <li><a href="">FAQ</a></li>
                    <li><a href="">Nous contacter</a></li>
                </ul>
            </div>
            <div class="nav-bg-fostrap">
                <div class="navbar-fostrap"> <span></span> <span></span> <span></span> </div>
                <a href="" class="title-mobile">DarkZone</a>
            </div>
        </nav>
        <!-- -->

        <div class="">
            <div id="carousel-example-generic" class="carousel slide">

                <!-- Wrapper for slides -->
                <div class="carousel-inner" role="listbox">
                    <div id="buildImage"></div>
                    <!-- First slide -->
                    <div id="itemCarousel" class="item active deepskyblue">

                        <div class="carousel-caption ">
                            <h3 class="wow fadeInDown" data-wow-delay="4.25s">
                                DARK ZONE
                            </h3>
                            <h3 class="wow fadeInDown" data-wow-delay="4.5s">
                                Oserez-vous tenter l'experience ?
                            </h3>
                            <div class="wow fadeInDown" data-wow-delay="4.75s">
                                <button class="btn btn-reserver btn-lg wow pulse" data-wow-delay=".75s" data-wow-iteration="1000">RESERVER</button>
                            </div>
                        </div>
                    </div> <!-- /.item -->
                </div><!-- /.carousel-inner -->
            </div><!-- /.carousel -->
        </div><!-- /.container -->

        <!-- --><br><br><br><br><br><br><br>
        <div id="contenue" class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
            <div class="col-md-4 col-md-offset-2 col-lg-4 col-lg-offset-2 col-sm-12 col-xs-12 center wow flip">
                <h2 class=""><img src="images_dark_dream/concept.png" class="img-responsive img-centre"></h2>
                <br>
                <p>
                    Adeptes de sensations fortes et de grands frissons, vous vivrez vos pires cauchemars au travers d’un spectacle hanté des plus réalistes !
                </p>
                <br>
                <p>
                    Acteurs, effets spéciaux, décors immersifs et interactifs, Dark Dreams vous propose une aventure hors du commun. Le parcours, semé d’embuches, vous réservera de nombreuses surprises !
                    Personne ne sait quand et comment vous en ressortirez...
                </p>
                <br>
                <p>
                    Dark Dreams s'adresse à un large public, de 9 à 99 ans.
                    En groupe de 2 à 12 joueurs, venez relever le défi dans notre labyrinthe de l'horreur de 600m2, en famille, entre amis ou entre collaborateurs.
                </p>
                <br>
                <p>A vous de jouer ! </p>
                <br>
                <p>Suivez notre actualité et lisez les avis de nos clients  </p>
            </div>
            <div class="col-md-4 col-md-offset-1 col-lg-4 col-lg-offset-1 col-sm-12 col-xs-12 wow flip">
                <h2 class=""><img src="images_dark_dream/horaire2.png" class="img-responsive img-centre"></h2>
            </div>
        </div>
    <div id="map"></div>
</div>
<script>
    function initMap() {
        // Styles a map in night mode.
        var darkSide = {lat: -25.363, lng: 131.044};
        var map = new google.maps.Map(document.getElementById('map'), {
            center: darkSide,
            zoom: 12,
            styles: [
                {elementType: 'geometry', stylers: [{color: '#242f3e'}]},
                {elementType: 'labels.text.stroke', stylers: [{color: '#242f3e'}]},
                {elementType: 'labels.text.fill', stylers: [{color: '#746855'}]},
                {
                    featureType: 'administrative.locality',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#d59563'}]
                },
                {
                    featureType: 'poi',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#d59563'}]
                },
                {
                    featureType: 'poi.park',
                    elementType: 'geometry',
                    stylers: [{color: '#263c3f'}]
                },
                {
                    featureType: 'poi.park',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#6b9a76'}]
                },
                {
                    featureType: 'road',
                    elementType: 'geometry',
                    stylers: [{color: '#38414e'}]
                },
                {
                    featureType: 'road',
                    elementType: 'geometry.stroke',
                    stylers: [{color: '#212a37'}]
                },
                {
                    featureType: 'road',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#9ca5b3'}]
                },
                {
                    featureType: 'road.highway',
                    elementType: 'geometry',
                    stylers: [{color: '#746855'}]
                },
                {
                    featureType: 'road.highway',
                    elementType: 'geometry.stroke',
                    stylers: [{color: '#1f2835'}]
                },
                {
                    featureType: 'road.highway',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#f3d19c'}]
                },
                {
                    featureType: 'transit',
                    elementType: 'geometry',
                    stylers: [{color: '#2f3948'}]
                },
                {
                    featureType: 'transit.station',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#d59563'}]
                },
                {
                    featureType: 'water',
                    elementType: 'geometry',
                    stylers: [{color: '#17263c'}]
                },
                {
                    featureType: 'water',
                    elementType: 'labels.text.fill',
                    stylers: [{color: '#515c6d'}]
                },
                {
                    featureType: 'water',
                    elementType: 'labels.text.stroke',
                    stylers: [{color: '#17263c'}]
                }
            ]
        });
        var marker = new google.maps.Marker({
            position: darkSide,
            map: map
        });
        var iconBase = 'logo_dark_zone.jpg';
    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOOdEFCR181ikzX4vXWDs7jfTLAkI7RbY&callback=initMap">
</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script>$(document).ready(function(){
    $('.navbar-fostrap').click(function(){
        $('.nav-fostrap').toggleClass('visible');
        $('body').toggleClass('cover-bg');
    });
});</script>

<script>new WOW().init();</script>

<script>

    // triangulation using https://github.com/ironwallaby/delaunay

    // For more check out zachsaucier.com

    const TWO_PI = Math.PI * 2;

    var ny = getWindowHeight();
    var nx = getWindowWidth();

    var images = [],
        imageIndex = 0;

    var image,
        imageWidth = nx,
        imageHeight = ny;

    var vertices = [],
        indices = [],
        prevfrag = [],
        fragments = [];

    var margin = 50;

    var container = document.getElementById('buildImage');

    var clickPosition = [imageWidth * 0.5, imageHeight * 0.5];

    window.onload = function() {
        TweenMax.set(container, {perspective:500});

        // images from http://www.hdwallpapers.in
        var urls = [
                'horror-background_censored.jpg',
            ],
            image,
            loaded = 0;
        // very quick and dirty hack to load and display the first image asap
        images[0] = image = new Image();
        image.onload = function() {
            if (++loaded === 1) {
                for (var i = 1; i < 1; i++) {
                    images[i] = image = new Image();

                    image.src = urls[i];
                }
                placeImage();
            }
        };
        image.src = urls[0];

    };

    function placeImage(transitionIn) {
        image = images[imageIndex];

        if (++imageIndex === images.length) imageIndex = 0;

        var num = Math.random();
        if(num < .25) {
            image.direction = "left";
        } else if(num < .5) {
            image.direction = "top";
        } else if(num < .75) {
            image.direction = "bottom";
        } else {
            image.direction = "right";
        }

        container.appendChild(image);
        image.style.opacity = 0;

        if (transitionIn !== false) {
            triangulateIn();
        }
    }

    function triangulateIn(event) {
        var box = image.getBoundingClientRect(),
            top = box.top,
            left = box.left;

        if(image.direction == "left") {
            clickPosition[0] = 0;
            clickPosition[1] = imageHeight / 2;
        } else if(image.direction == "top") {
            clickPosition[0] = imageWidth / 2;
            clickPosition[1] = 0;
        } else if(image.direction == "bottom") {
            clickPosition[0] = imageWidth / 2;
            clickPosition[1] = imageHeight;
        } else if(image.direction == "right") {
            clickPosition[0] = imageWidth;
            clickPosition[1] = imageHeight / 2;
        }


        triangulate();
        build();
    }

    function triangulate() {
        for(var i = 0; i < 50; i++) {
            x = -margin + Math.random() * (imageWidth + margin * 2);
            y = -margin + Math.random() * (imageHeight + margin * 2);
            vertices.push([x, y]);
        }
        vertices.push([0,0]);
        vertices.push([imageWidth,0]);
        vertices.push([imageWidth, imageHeight]);
        vertices.push([0, imageHeight]);

        vertices.forEach(function(v) {
            v[0] = clamp(v[0], 0, imageWidth);
            v[1] = clamp(v[1], 0, imageHeight);
        });

        indices = Delaunay.triangulate(vertices);
    }

    function build() {
        var p0, p1, p2,
            fragment;

        var tl0 = new TimelineMax({onComplete:buildCompleteHandler});

        for (var i = 0; i < indices.length; i += 3) {
            p0 = vertices[indices[i + 0]];
            p1 = vertices[indices[i + 1]];
            p2 = vertices[indices[i + 2]];

            fragment = new Fragment(p0, p1, p2);

            var dx = fragment.centroid[0] - clickPosition[0],
                dy = fragment.centroid[1] - clickPosition[1],
                d = Math.sqrt(dx * dx + dy * dy),
                rx = 30 * sign(dy),
                ry = 90 * -sign(dx),
                delay = d * 0.003 * randomRange(0.9, 1.1);
            fragment.canvas.style.zIndex = Math.floor(d).toString();

            var tl1 = new TimelineMax();

            if(image.direction == "left") {
                rx = Math.abs(rx);
                ry = 0;
            } else if(image.direction == "top") {
                rx = 0;
                ry = Math.abs(ry);
            } else if(image.direction == "bottom") {
                rx = 0;
                ry = - Math.abs(ry);
            } else if(image.direction == "right") {
                rx = - Math.abs(rx);
                ry = 0;
            }

            tl1.from(fragment.canvas, 1, {
                z:-50,
                rotationX:rx,
                rotationY:ry,
                scaleX:0,
                scaleY:0,
                ease:Cubic.easeIn
            });
            tl1.from(fragment.canvas, 0.4,{alpha:0}, 0.6);

            tl0.insert(tl1, delay);

            fragments.push(fragment);
            container.appendChild(fragment.canvas);
        }
    }

    function buildCompleteHandler() {
        // add pooling?
        image.style.opacity = 1;
        image.addEventListener('transitionend', function catchTrans() {
            fragments.forEach(function(f) {
                container.removeChild(f.canvas);
            });

            fragments.length = 0;
            vertices.length = 0;
            indices.length = 0;

            // placeImage();
            this.removeEventListener('transitionend',catchTrans,false);
        }, false);
    }

    //////////////
    // MATH UTILS
    //////////////

    function randomRange(min, max) {
        return min + (max - min) * Math.random();
    }

    function clamp(x, min, max) {
        return x < min ? min : (x > max ? max : x);
    }

    function sign(x) {
        return x < 0 ? -1 : 1;
    }

    //////////////
    // FRAGMENT
    //////////////

    Fragment = function(v0, v1, v2) {
        this.v0 = v0;
        this.v1 = v1;
        this.v2 = v2;

        this.computeBoundingBox();
        this.computeCentroid();
        this.createCanvas();
        this.clip();
    };
    Fragment.prototype = {
        computeBoundingBox:function() {
            var xMin = Math.min(this.v0[0], this.v1[0], this.v2[0]),
                xMax = Math.max(this.v0[0], this.v1[0], this.v2[0]),
                yMin = Math.min(this.v0[1], this.v1[1], this.v2[1]),
                yMax = Math.max(this.v0[1], this.v1[1], this.v2[1]);

            this.box = {
                x:Math.round(xMin),
                y:Math.round(yMin),
                w:Math.round(xMax - xMin),
                h:Math.round(yMax - yMin)
            };

        },
        computeCentroid:function() {
            var x = (this.v0[0] + this.v1[0] + this.v2[0]) / 3,
                y = (this.v0[1] + this.v1[1] + this.v2[1]) / 3;

            this.centroid = [x, y];
        },
        createCanvas:function() {
            this.canvas = document.createElement('canvas');
            this.canvas.width = this.box.w;
            this.canvas.height = this.box.h;
            this.canvas.style.width = this.box.w + 'px';
            this.canvas.style.height = this.box.h + 'px';
            this.canvas.style.left = this.box.x + 'px';
            this.canvas.style.top = this.box.y + 'px';
            this.ctx = this.canvas.getContext('2d');
        },
        clip:function() {
            this.ctx.save();
            this.ctx.translate(-this.box.x, -this.box.y);
            this.ctx.beginPath();
            this.ctx.moveTo(this.v0[0], this.v0[1]);
            this.ctx.lineTo(this.v1[0], this.v1[1]);
            this.ctx.lineTo(this.v2[0], this.v2[1]);
            this.ctx.closePath();
            this.ctx.clip();
            this.ctx.drawImage(image, 0, 0);
            this.ctx.restore();
        }
    };

    function getWindowHeight() {
        var windowHeight=0;
        if (typeof(window.innerHeight)=='number') {
            windowHeight=window.innerHeight;
        } else {
            if (document.documentElement&& document.documentElement.clientHeight) {
                windowHeight = document.documentElement.clientHeight;
            } else {
                if (document.body&&document.body.clientHeight) {
                    windowHeight=document.body.clientHeight;
                }
            }
        }
        return windowHeight;
    }

    function getWindowWidth() {
        var windowWidth=0;
        if (typeof(window.innerWidth)=='number') {
            windowWidth=window.innerWidth;
        } else {
            if (document.documentElement&& document.documentElement.clientWidth) {
                windowWidth = document.documentElement.clientWidth;
            } else {
                if (document.body&&document.body.clientWidth) {
                    windowWidth=document.body.clientWidth;
                }
            }
        }
        return windowWidth;
    }

    ny=getWindowHeight();
    nx=getWindowWidth();
    var taille = document.getElementById("itemCarousel");
    var hauteur = ny-50;
    taille.style.height = hauteur+'px';
  //  taille.style.width = nx+'px';
</script>

</body>
</html>